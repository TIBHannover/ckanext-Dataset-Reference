{% extends "package/read.html" %}
{% import 'macros/form.html' as macro %}


{% block primary_content_inner %}
  {% asset 'ckanext-dataset-reference/publication-add-manually-css' %}
  {% set action = h.url_for('dataset_reference.save_publication_manually', _external=True) %}
  {% asset 'ckanext-dataset-reference/publication-add-manually-js' %}
  <input type="hidden" id="package" value={{pkg_dict.name}}>
  <input type="hidden" id="dest_url" value={{action}}>

  <div class="row">
    <div class="col-sm-12">
        <h3>{{_('Please enter the data about your Reference.')}}</h3>
        <b><i><p id="mandatory-text">{{_('* mandatory fields')}}</p></i></b>
        <br>
        {{ macro.select('pub-type', 
            id='pub-type', 
            label = "Reference Type",                 
            options=publication_types, selected='', classes=[], attrs={'class': 'pub-type-select'}, is_required=true) 
        }}

        {{ macro.input('title',
            id='pub-title',
            type='text',
            label=_('Title'),                           
            classes=['control-full'],
            is_required=true
            )             
        }}

        {{ macro.input('author',
            id='authors',
            type='text',
            label=_('Author(s): <small>Please separate authors names with semicolon (;). (Example: FirstName1, LastName1;FirstName2, LastName2)</small>'),
            placeholder = "Example:  Author1;Author2;Author3",            
            classes=['control-full'],
            is_required=true
            ) 
        }}

        <div class="row">
            <div class="col-sm-3">
                {{ macro.select('year', 
                    id='years-select', 
                    label = "Year",                 
                    options=years, classes=[], attrs={'class': 'years-select'}, is_required=true) 
                }}
            </div>
            <div class="col-sm-9">
                {{ macro.input('url',
                    id='ref-url',
                    type='text',
                    label=_('Reference URL / DOI'),                    
                    classes=['control-full']) 
                }}
            </div>
        </div>

        <section id='article-section' class='pub-type-section'>
            <div class='row'>
                <div class="col-sm-12">
                    {{ macro.input('article-journal',
                        id='article-journal',
                        type='text',
                        label=_('Journal Title'),                    
                        classes=['control-full']) 
                    }}
                </div>
            </div>
            <div class='row'>
                <div class="col-sm-4">
                    {{ macro.input('article-volume',
                        id='article-volume',
                        type='text',
                        label=_('Volume'),                    
                        classes=['control-full']) 
                    }}
                </div>
                <div class="col-sm-4">
                    {{ macro.input('article-issue',
                        id='article-issue',
                        type='text',
                        label=_('Issue Number'),                  
                        classes=['control-full']) 
                    }}
                </div>
                <div class="col-sm-4">
                    {{ macro.input('article-pages',
                        id='article-pages',
                        type='text',
                        label=_('Pages'),
                        placeholder="Example: 23-35",                    
                        classes=['control-full']) 
                    }}
                </div>
            </div>
        </section>

        <section id='conference-section' class='pub-type-section'>
            <div class='row'>
                <div class="col-sm-8">
                    {{ macro.input('conf-proceeding',
                        id='conf-proceeding',
                        type='text',
                        label=_('Proceeding Title'),                    
                        classes=['control-full']) 
                    }}
                </div>
                <div class="col-sm-4">
                    {{ macro.input('conf-proceeding-date',
                        id='conf-proceeding-date',
                        type='text',
                        label=_('Proceeding location/date'),
                        placeholder='Ex: Germany, May 21-23, 2020',
                        classes=['control-full']) 
                    }}
                </div>                
            </div>
            <div class='row'>
                <div class="col-sm-4">
                    {{ macro.input('conf-publisher',
                        id='conf-publisher',
                        type='text',
                        label=_('Publisher'),                    
                        classes=['control-full']) 
                    }}
                </div>
                <div class="col-sm-4">
                    {{ macro.input('conf-pub-address',
                        id='conf-pub-address',
                        type='text',
                        label=_('Publication Location'),                    
                        classes=['control-full']) 
                    }}
                </div>
                <div class="col-sm-4">
                    {{ macro.input('conf-pages',
                        id='conf-pages',
                        type='text',
                        label=_('Pages'),
                        placeholder="Example: 23-35",                    
                        classes=['control-full']) 
                    }}
                </div>                
            </div>
        
        </section>

        <section id="book-section" class='pub-type-section'>
            <div class="row">
                <div class="col-sm-8">
                    {{ macro.input('book-publisher',
                        id='book-publisher',
                        type='text',
                        label=_('Publisher'),                    
                        classes=['control-full']) 
                    }}
                </div>
                <div class="col-sm-4">
                    {{ macro.input('book-address',
                        id='book-address',
                        type='text',
                        label=_('Location'),                    
                        classes=['control-full']) 
                    }}
                </div>
            </div>
        </section>

        <section id="thesis-section" class='pub-type-section'>
            <div class="row">
                <div class="col-sm-3">
                    {{ macro.select('thesis-type', 
                        id='thesis-type', 
                        label = "Thesis Type",                 
                        options=thesis_types, selected='', classes=[], attrs={'class': 'thesis-type-select'}, is_required=false) 
                    }}
                </div> 
                <div class="col-sm-9">
                    {{ macro.input('thesis-school',
                        id='thesis-school',
                        type='text',
                        label=_('Institution'),                    
                        classes=['control-full']) 
                    }}
                </div>                
            </div>
        </section>

        <section id="section-tech-report" class='pub-type-section'>
            <div class="row">
                <div class="col-sm-6">
                     {{ macro.input('report-publisher',
                        id='report-publisher',
                        type='text',
                        label=_('Publisher'),                    
                        classes=['control-full']) 
                    }}
                </div>
                <div class="col-sm-6">
                    {{ macro.input('report-ins',
                        id='report-ins',
                        type='text',
                        label=_('Organization'),                    
                        classes=['control-full']) 
                    }}
                </div>                
            </div>
           <div class="row">
                <div class="col-sm-6">
                    {{ macro.input('report-address',
                        id='report-address',
                        type='text',
                        label=_('Location'),                    
                        classes=['control-full']) 
                    }}
                </div>                
            </div>
        </section>

        <section  id="section-electronic-source" class='pub-type-section'>
            <div class="row">
                <div class="col-sm-4">
                    {{ macro.input('e-accessDate',
                        id='e-accessDate',
                        type='text',
                        label=_('Access Date (DD.MM.YY)'),                    
                        placeholder='Ex: 18.05.2019',
                        classes=['control-full']) 
                    }}
                </div>
            </div>
        </section>

        <div class="row">
            <div class="col-sm-12 form-actions">
                <button class="btn btn-default" id="cancel-btn">{{_('Cancel')}}</button>
                <button class="btn btn-primary" id="save-btn">{{_('Save')}}</button>
            </div>
        </div>

    </div>
  </div>

{% endblock %}